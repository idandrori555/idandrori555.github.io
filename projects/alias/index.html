<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="data:;base64,=">
  <title>Alias - The Digital Game</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          animation: {
            'celebrate': 'celebrate 2s ease-in-out infinite',
            'fade-in': 'fadeIn 0.3s ease-out',
            'slide-up': 'slideUp 0.4s ease-out',
          },
          keyframes: {
            celebrate: {
              '0%, 100%': {
                transform: 'scale(1) rotate(0deg)',
              },
              '25%': {
                transform: 'scale(1.02) rotate(-1deg)',
              },
              '75%': {
                transform: 'scale(1.02) rotate(1deg)',
              },
            },
            fadeIn: {
              '0%': {opacity: '0'},
              '100%': {opacity: '1'},
            },
            slideUp: {
              '0%': {
                opacity: '0',
                transform: 'translateY(10px)'
              },
              '100%': {
                opacity: '1',
                transform: 'translateY(0)'
              },
            }
          }
        }
      }
    }
  </script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      min-height: 100vh;
    }

    .game-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
      animation: fadeIn 0.3s ease-out;
    }

    .card {
      background: rgba(30, 41, 59, 0.8);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(148, 163, 184, 0.1);
      transition: all 0.3s ease;
    }

    .card:hover {
      border-color: rgba(148, 163, 184, 0.2);
    }

    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type=number] {
      -moz-appearance: textfield;
    }

    button {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    button:active {
      transform: scale(0.97);
    }

    .btn-primary {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
      box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
    }

    .btn-primary:hover {
      box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
      transform: translateY(-2px);
    }

    .btn-success {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
    }

    .btn-success:hover {
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    }

    .btn-danger {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
    }

    .btn-danger:hover {
      box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
    }

    .word-display {
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      box-shadow: 0 10px 30px rgba(79, 70, 229, 0.4);
      transition: transform 0.3s ease;
    }

    .word-display:hover {
      transform: scale(1.02);
    }

    @keyframes scoreUp {
      0% {
        transform: scale(1);
        opacity: 0.8;
      }

      50% {
        transform: scale(1.2);
        opacity: 1;
        color: #10b981;
        filter: drop-shadow(0 0 10px rgba(16, 185, 129, 0.8));
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    @keyframes scoreDown {
      0% {
        transform: scale(1);
        opacity: 0.8;
      }

      25% {
        transform: scale(0.9) rotate(-5deg);
        color: #ef4444;
        filter: drop-shadow(0 0 10px rgba(239, 68, 68, 0.8));
      }

      75% {
        transform: scale(0.9) rotate(5deg);
      }

      100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
      }
    }

    .score-up {
      animation: scoreUp 0.5s ease-out;
    }

    .score-down {
      animation: scoreDown 0.5s ease-out;
    }

    .team-card {
      transition: all 0.3s ease;
      animation: slideUp 0.4s ease-out;
    }

    .team-card.active {
      background: linear-gradient(135deg, rgba(79, 70, 229, 0.2) 0%, rgba(124, 58, 237, 0.2) 100%);
      border-color: #6366f1;
      box-shadow: 0 0 30px rgba(99, 102, 241, 0.3);
    }

    @media (max-width: 640px) {
      .main-word {
        font-size: 2.5rem;
      }
    }

    input,
    textarea,
    select {
      transition: all 0.2s ease;
    }

    input:focus,
    textarea:focus,
    select:focus {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
    }

    .timer-warning {
      animation: pulse 1s ease-in-out infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }
    }
  </style>
</head>

<body class="bg-slate-900 text-gray-100">
  <div id="app" class="game-container">
    <!-- ×ª×•×›×Ÿ ×”××¤×œ×™×§×¦×™×” ×™×˜×¢×Ÿ ×›××Ÿ -->
  </div>

  <script src="hebrew_words.js"></script>
  <script>
    const DEFAULT_ROUND_DURATION = 60;

    const GAME_STATE = {
      SETUP: 'SETUP',
      BOARD: 'BOARD',
      ROUND: 'ROUND',
      LAST_GUESS: 'LAST_GUESS',
      SUMMARY: 'SUMMARY',
      GAME_OVER: 'GAME_OVER',
      MANAGE_SETS: 'MANAGE_SETS'
    };

    let gameState = {
      currentScreen: GAME_STATE.SETUP,
      teams: [],
      currentTeamIndex: 0,
      winningScore: 70,
      roundDuration: DEFAULT_ROUND_DURATION,
      currentRound: {
        presenterIndex: 0,
        score: 0,
        timeLeft: DEFAULT_ROUND_DURATION,
        currentWord: '',
      },
      timerInterval: null,
      totalWords: [...HEBREW_WORDS],
      activeWordSet: '×‘×¨×™×¨×ª ××—×“×œ',
    };

    const CUSTOM_SETS_STORAGE_KEY = 'aliasCustomWordSets';

    function getCustomWordSets() {
      try {
        const sets = localStorage.getItem(CUSTOM_SETS_STORAGE_KEY);
        return sets ? JSON.parse(sets) : {};
      } catch (e) {
        console.error("Error reading custom word sets from localStorage", e);
        return {};
      }
    }

    function saveCustomWordSets(sets) {
      try {
        localStorage.setItem(CUSTOM_SETS_STORAGE_KEY, JSON.stringify(sets));
      } catch (e) {
        console.error("Error saving custom word sets to localStorage", e);
      }
    }

    function initApp() {
      gameState.currentScreen = GAME_STATE.SETUP;
      render();
    }

    function resetGame() {
      if (gameState.timerInterval) clearInterval(gameState.timerInterval);
      gameState = {
        currentScreen: GAME_STATE.SETUP,
        teams: [],
        currentTeamIndex: 0,
        winningScore: gameState.winningScore || 70,
        roundDuration: gameState.roundDuration || DEFAULT_ROUND_DURATION,
        currentRound: {
          presenterIndex: 0,
          score: 0,
          timeLeft: gameState.roundDuration || DEFAULT_ROUND_DURATION,
          currentWord: '',
        },
        timerInterval: null,
        totalWords: [...HEBREW_WORDS],
      };
      render();
    }

    function startSetup() {
      const teamNames = document.getElementById('teamNames');
      const winningScoreInput = document.getElementById('winningScore');
      const roundDurationInput = document.getElementById('roundDuration');
      const setupErrorElement = document.getElementById('setupError');
      const wordSetSelect = document.getElementById('wordSet');

      const selectedWordSet = wordSetSelect.value;
      let wordsForGame = [];

      if (selectedWordSet === '×‘×¨×™×¨×ª ××—×“×œ') {
        wordsForGame = [...HEBREW_WORDS];
      } else {
        const customSets = getCustomWordSets();
        wordsForGame = [...(customSets[selectedWordSet] || [])];
      }

      if (wordsForGame.length === 0) {
        setupErrorElement.style.display = 'block';
        setupErrorElement.textContent = "×¢×¨×›×ª ×”××™×œ×™× ×©× ×‘×—×¨×” ×¨×™×§×”. ×× × ×‘×—×¨ ×¢×¨×›×” ××—×¨×ª ××• ×”×•×¡×£ ××™×œ×™×.";
        return;
      }

      const namesArray = teamNames.value.split('\n').map(name => name.trim()).filter(name => name);
      const teamCount = namesArray.length;
      const scoreToWin = parseInt(winningScoreInput.value, 10);
      const duration = parseInt(roundDurationInput.value, 10);

      if (teamCount < 2) {
        setupErrorElement.style.display = 'block';
        setupErrorElement.textContent = "×× × ×”×–×Ÿ ×œ×¤×—×•×ª 2 ×©××•×ª ×©×œ ×§×‘×•×¦×•×ª (××—×ª ×œ×©×•×¨×”).";
        return;
      }
      if (scoreToWin < 1 || isNaN(scoreToWin)) {
        setupErrorElement.style.display = 'block';
        setupErrorElement.textContent = "× ×™×§×•×“ ×”× ×™×¦×—×•×Ÿ ×—×™×™×‘ ×œ×”×™×•×ª ××¡×¤×¨ ×—×™×•×‘×™.";
        return;
      }
      if (duration < 10 || isNaN(duration)) {
        setupErrorElement.style.display = 'block';
        setupErrorElement.textContent = "××©×š ×”×¡×™×‘×•×‘ ×—×™×™×‘ ×œ×”×™×•×ª ×œ×¤×—×•×ª 10 ×©× ×™×•×ª.";
        return;
      }

      setupErrorElement.textContent = "";

      gameState.winningScore = scoreToWin;
      gameState.roundDuration = duration;
      gameState.activeWordSet = selectedWordSet;
      gameState.totalWords = wordsForGame;

      gameState.teams = [];
      for (let i = 0; i < teamCount; i++) {
        gameState.teams.push({
          name: namesArray[i],
          score: 0,
          players: [`×©×—×§×Ÿ 1`, `×©×—×§×Ÿ 2`],
          presenterIndex: 0
        });
      }

      gameState.currentScreen = GAME_STATE.BOARD;
      render();
    }

    function startNewRound() {
      if (gameState.teams.length === 0) return;

      gameState.currentRound.score = 0;
      gameState.currentRound.timeLeft = gameState.roundDuration;
      gameState.currentWord = '';

      const currentTeam = gameState.teams[gameState.currentTeamIndex];
      const nextPresenterIndex = currentTeam.presenterIndex;
      currentTeam.presenterIndex = (currentTeam.presenterIndex + 1) % currentTeam.players.length;

      gameState.currentScreen = GAME_STATE.ROUND;
      getNewWord();
      startTimer();
      render();
    }

    function getNewWord() {
      if (gameState.totalWords.length === 0) {
        alert("×›×œ ×”××™×œ×™× ×‘×¢×¨×›×” × ×•×¦×œ×•! ×”×¡×™×‘×•×‘ ×”× ×•×›×—×™ ×™×¡×ª×™×™×.");
        endRound();
        return;
      }

      const randomIndex = Math.floor(Math.random() * gameState.totalWords.length);
      const newWord = gameState.totalWords[randomIndex];
      gameState.currentRound.currentWord = newWord;
      gameState.totalWords.splice(randomIndex, 1);

      if (gameState.currentScreen === GAME_STATE.ROUND) {
        const wordElement = document.getElementById('currentWordDisplay');
        if (wordElement) {
          wordElement.textContent = newWord;
        }
      }
    }

    function startTimer() {
      if (gameState.timerInterval) clearInterval(gameState.timerInterval);

      gameState.timerInterval = setInterval(() => {
        gameState.currentRound.timeLeft--;
        const timerElement = document.getElementById('timerDisplay');
        if (timerElement) {
          timerElement.textContent = gameState.currentRound.timeLeft;

          if (gameState.currentRound.timeLeft <= 10) {
            timerElement.classList.add('text-red-400', 'timer-warning');
          } else {
            timerElement.classList.remove('text-red-400', 'timer-warning');
          }
        }

        if (gameState.currentRound.timeLeft <= 0) {
          clearInterval(gameState.timerInterval);
          gameState.currentScreen = GAME_STATE.LAST_GUESS;
          render();
        }
      }, 1000);
    }

    function handleGuess(type) {
      const currentTeam = gameState.teams[gameState.currentTeamIndex];
      const roundScoreElement = document.getElementById('roundScoreDisplay');

      if (type === 'success') {
        gameState.currentRound.score++;
        currentTeam.score++;

        if (roundScoreElement) {
          roundScoreElement.classList.remove('score-down', 'text-red-400', 'text-green-400');
          roundScoreElement.classList.add('score-up', 'text-green-400');
          setTimeout(() => {
            roundScoreElement.classList.remove('score-up');
            if (gameState.currentRound.score < 0) {
              roundScoreElement.classList.add('text-red-400');
            } else {
              roundScoreElement.classList.add('text-green-400');
            }
          }, 500);
        }

        getNewWord();
      } else if (type === 'skip') {
        gameState.currentRound.score--;
        currentTeam.score--;

        if (roundScoreElement) {
          roundScoreElement.classList.remove('score-up', 'text-green-400', 'text-red-400');
          roundScoreElement.classList.add('score-down', 'text-red-400');
          setTimeout(() => {
            roundScoreElement.classList.remove('score-down');
            if (gameState.currentRound.score < 0) {
              roundScoreElement.classList.add('text-red-400');
            } else {
              roundScoreElement.classList.add('text-green-400');
            }
          }, 500);
        }

        getNewWord();
      }

      if (roundScoreElement) {
        roundScoreElement.textContent = gameState.currentRound.score;
      }

      if (currentTeam.score >= gameState.winningScore) {
        clearInterval(gameState.timerInterval);
        gameState.currentScreen = GAME_STATE.GAME_OVER;
        render();
        return;
      }

      renderBoard();
    }

    function endRound() {
      if (gameState.timerInterval) clearInterval(gameState.timerInterval);

      const currentTeam = gameState.teams[gameState.currentTeamIndex];
      if (currentTeam.score >= gameState.winningScore) {
        gameState.currentScreen = GAME_STATE.GAME_OVER;
      } else {
        gameState.currentScreen = GAME_STATE.SUMMARY;
      }
      render();
    }

    function handleFinalGuess(teamIndex) {
      if (teamIndex >= 0 && teamIndex < gameState.teams.length) {
        const guessingTeam = gameState.teams[teamIndex];
        guessingTeam.score++;

        if (guessingTeam.score >= gameState.winningScore) {
          gameState.currentTeamIndex = teamIndex;
          gameState.currentScreen = GAME_STATE.GAME_OVER;
          render();
          return;
        }
      }

      const originalTeam = gameState.teams[gameState.currentTeamIndex];
      if (originalTeam.score >= gameState.winningScore) {
        gameState.currentScreen = GAME_STATE.GAME_OVER;
      } else {
        gameState.currentScreen = GAME_STATE.SUMMARY;
      }
      render();
    }

    function nextTurn() {
      gameState.currentTeamIndex = (gameState.currentTeamIndex + 1) % gameState.teams.length;
      gameState.currentScreen = GAME_STATE.BOARD;
      render();
    }

    function getCurrentTeam() {
      return gameState.teams[gameState.currentTeamIndex];
    }

    function showManageSetsScreen() {
      gameState.currentScreen = GAME_STATE.MANAGE_SETS;
      render();
    }

    function saveOrUpdateSet() {
      const setNameInput = document.getElementById('setName');
      const wordsTextarea = document.getElementById('wordsTextarea');
      const setName = setNameInput.value.trim();
      const words = wordsTextarea.value.split('\n').map(w => w.trim()).filter(Boolean);

      if (!setName || words.length === 0) {
        alert('×™×© ×œ×¡×¤×§ ×©× ×œ×¢×¨×›×” ×•×œ×¤×—×•×ª ××™×œ×” ××—×ª.');
        return;
      }

      const customSets = getCustomWordSets();
      customSets[setName] = words;
      saveCustomWordSets(customSets);

      gameState.currentScreen = GAME_STATE.SETUP;
      render();
    }

    function deleteSet(setName) {
      if (!confirm(`×”×× ××ª×” ×‘×˜×•×— ×©×‘×¨×¦×•× ×š ×œ××—×•×§ ××ª ×”×¢×¨×›×” "${setName}"?`)) {
        return;
      }

      const customSets = getCustomWordSets();
      delete customSets[setName];
      saveCustomWordSets(customSets);

      render();
    }

    function loadSetForEditing(setName) {
      const customSets = getCustomWordSets();
      const words = customSets[setName];

      if (words) {
        document.getElementById('setName').value = setName;
        document.getElementById('wordsTextarea').value = words.join('\n');
      }
    }

    function renderBoard() {
      const boardContainer = document.getElementById('boardContainer');
      if (!boardContainer) return;

      const boardHTML = `
        <div class="space-y-3">
          ${gameState.teams.map((team, index) => {
        const scoreTextColor = team.score >= gameState.winningScore
          ? 'text-yellow-400'
          : (team.score < 0 ? 'text-red-400' : 'text-blue-400');

        return `
              <div class="team-card flex items-center justify-between p-4 rounded-xl shadow-lg ${index === gameState.currentTeamIndex ? 'active' : 'card'}">
                <div class="flex flex-col">
                  <span class="text-lg font-bold ${index === gameState.currentTeamIndex ? 'text-indigo-300' : 'text-gray-200'}">${team.name}</span>
                  <span class="text-xs text-gray-400 mt-1">×”××¦×™×’ ×”×‘×: ${team.players[team.presenterIndex]}</span>
                </div>
                <div class="flex items-center">
                  <span class="text-3xl font-black ${scoreTextColor}" dir="ltr">${team.score}</span>
                </div>
              </div>
            `;
      }).join('')}
        </div>
      `;
      boardContainer.innerHTML = boardHTML;
    }

    function render() {
      const appDiv = document.getElementById('app');
      let content = '';

      const currentTeam = getCurrentTeam();
      const nextPresenterName = currentTeam ? currentTeam.players[currentTeam.presenterIndex] : '';

      switch (gameState.currentScreen) {
        case GAME_STATE.SETUP:
          const customSets = getCustomWordSets();
          const setNames = Object.keys(customSets);

          content = `
            <div class="w-full max-w-md p-6 card rounded-2xl shadow-2xl mt-8 animate-fade-in">
              <h1 class="text-4xl font-black text-center mb-8 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent">
                ××œ×™××¡
              </h1>
              
              <div class="space-y-4">
                <div>
                  <label for="wordSet" class="block text-sm font-medium text-gray-300 mb-2">×¢×¨×›×ª ××™×œ×™×</label>
                  <div class="flex gap-2">
                    <select id="wordSet" class="flex-1 p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white outline-none">
                      <option value="×‘×¨×™×¨×ª ××—×“×œ">×‘×¨×™×¨×ª ××—×“×œ (×¢×‘×¨×™×ª)</option>
                      ${setNames.map(name => `<option value="${name}" ${gameState.activeWordSet === name ? 'selected' : ''}>${name}</option>`).join('')}
                    </select>
                    <button onclick="showManageSetsScreen()" class="p-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition" title="× ×”×œ ×¢×¨×›×•×ª">âš™ï¸</button>
                  </div>
                </div>

                <div>
                  <label for="winningScore" class="block text-sm font-medium text-gray-300 mb-2">× ×™×§×•×“ ×œ× ×™×¦×—×•×Ÿ</label>
                  <input type="number" id="winningScore" value="${gameState.winningScore}" min="1" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white outline-none">
                </div>
                
                <div>
                  <label for="roundDuration" class="block text-sm font-medium text-gray-300 mb-2">××©×š ×¡×™×‘×•×‘ (×©× ×™×•×ª)</label>
                  <input type="number" id="roundDuration" value="${gameState.roundDuration}" min="10" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white outline-none">
                </div>

                <div>
                  <label for="teamNames" class="block text-sm font-medium text-gray-300 mb-2">×©××•×ª ×§×‘×•×¦×•×ª (×©×•×¨×” ×œ×§×‘×•×¦×”)</label>
                  <textarea id="teamNames" rows="4" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white outline-none placeholder-gray-400" placeholder="×§×‘×•×¦×” 1&#10;×§×‘×•×¦×” 2"></textarea>
                </div>
              </div>

              <p id="setupError" class="text-red-400 text-sm mt-4 p-3 rounded-lg bg-red-900/20 hidden"></p>
              
              <button onclick="startSetup()" class="w-full mt-6 py-4 btn-primary text-white font-bold rounded-xl">
                ×”×ª×—×œ ××©×—×§
              </button>
            </div>
          `;
          break;

        case GAME_STATE.MANAGE_SETS:
          const existingSets = getCustomWordSets();
          content = `
            <div class="w-full max-w-md p-6 card rounded-2xl shadow-2xl mt-8 animate-fade-in">
              <h1 class="text-3xl font-black text-center mb-6 bg-gradient-to-r from-teal-400 to-cyan-400 bg-clip-text text-transparent">
                × ×™×”×•×œ ×¢×¨×›×•×ª
              </h1>

              <div class="mb-6">
                <h2 class="text-lg font-bold text-gray-300 mb-3">×”×¢×¨×›×•×ª ×©×œ×™</h2>
                <div class="space-y-2">
                  ${Object.keys(existingSets).length > 0 ? Object.keys(existingSets).map(setName => `
                    <div class="flex items-center justify-between p-3 bg-slate-700 rounded-lg">
                      <span class="font-semibold text-white text-sm">${setName}</span>
                      <div class="flex gap-2">
                        <button onclick="loadSetForEditing('${setName}')" class="text-xs bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded-md transition">×¢×¨×•×š</button>
                        <button onclick="deleteSet('${setName}')" class="text-xs bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded-md transition">××—×§</button>
                      </div>
                    </div>
                  `).join('') : '<p class="text-gray-400 text-center text-sm py-4">××™×Ÿ ×¢×¨×›×•×ª</p>'}
                </div>
              </div>

              <div class="space-y-4 pt-4 border-t border-slate-600">
                <h2 class="text-lg font-bold text-gray-300">×™×¦×™×¨×ª ×¢×¨×›×”</h2>
                <div>
                  <label for="setName" class="block text-sm font-medium text-gray-300 mb-2">×©× ×”×¢×¨×›×”</label>
                  <input type="text" id="setName" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-white outline-none" placeholder="×¡×¨×˜×™×">
                </div>
                <div>
                  <label for="wordsTextarea" class="block text-sm font-medium text-gray-300 mb-2">××™×œ×™× (×©×•×¨×” ×œ××™×œ×”)</label>
                  <textarea id="wordsTextarea" rows="5" class="w-full p-3 bg-slate-700 border border-slate-600 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-white outline-none" placeholder="×”××¨×™ ×¤×•×˜×¨&#10;×©×¨ ×”×˜×‘×¢×•×ª"></textarea>
                </div>
                <button onclick="saveOrUpdateSet()" class="w-full py-3 bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-bold rounded-xl hover:from-teal-600 hover:to-cyan-600 transition shadow-lg">
                  ×©××•×¨ ×¢×¨×›×”
                </button>
              </div>
              
              <button onclick="initApp()" class="w-full mt-4 py-3 bg-slate-700 hover:bg-slate-600 text-gray-200 font-semibold rounded-xl transition">
                ×—×–×•×¨
              </button>
            </div>
          `;
          break;

        case GAME_STATE.BOARD:
          content = `
            <div class="w-full max-w-md p-6 card rounded-2xl shadow-2xl mt-8 animate-fade-in">
              <h1 class="text-2xl font-black text-center mb-6 bg-gradient-to-r from-green-400 to-cyan-400 bg-clip-text text-transparent">
                ×œ×•×— ×”××©×—×§
              </h1>
              
              <div class="bg-gradient-to-br from-indigo-900/40 to-purple-900/40 p-4 rounded-xl mb-6 border border-indigo-500/30">
                <p class="text-xs text-indigo-300 font-medium mb-1">×ª×•×¨ × ×•×›×—×™</p>
                <p class="text-2xl font-black text-white">${currentTeam.name}</p>
                <p class="text-xs text-gray-300 mt-2">××¦×™×’: <span class="font-semibold">${currentTeam.players[currentTeam.presenterIndex]}</span></p>
              </div>

              <div class="mb-4">
                <div class="flex items-center justify-between mb-3">
                  <h2 class="text-sm font-bold text-gray-300">× ×™×§×•×“</h2>
                  <span class="text-xs text-gray-400">×™×¢×“: ${gameState.winningScore}</span>
                </div>
                <div id="boardContainer"></div>
              </div>
              
              <button onclick="startNewRound()" class="w-full py-4 btn-success text-white font-bold rounded-xl">
                ×”×ª×—×œ ×¡×™×‘×•×‘ (${gameState.roundDuration} ×©× ×™×•×ª)
              </button>
            </div>
          `;
          break;

        case GAME_STATE.ROUND:
          content = `
            <div class="w-full max-w-md p-6 card rounded-2xl shadow-2xl mt-8 animate-fade-in">
              <h1 class="text-xl font-black text-center text-indigo-400 mb-4">${currentTeam.name}</h1>
              
              <div class="grid grid-cols-2 gap-3 mb-6 p-4 bg-slate-800/50 rounded-xl">
                <div class="text-center p-2">
                  <p class="text-xs font-medium text-gray-400 mb-1">×–××Ÿ × ×•×ª×¨</p>
                  <p id="timerDisplay" class="text-5xl font-black text-indigo-400 transition-colors">${gameState.currentRound.timeLeft}</p>
                </div>
                <div class="text-center p-2 border-r border-slate-600">
                  <p class="text-xs font-medium text-gray-400 mb-1">× ×™×§×•×“</p>
                  <p id="roundScoreDisplay" class="text-5xl font-black ${gameState.currentRound.score < 0 ? 'text-red-400' : 'text-green-400'}" dir="ltr">${gameState.currentRound.score}</p>
                </div>
              </div>
              
              <div class="word-display my-6 p-8 rounded-2xl text-center">
                <p id="currentWordDisplay" class="main-word text-5xl font-black text-white tracking-wide">${gameState.currentRound.currentWord}</p>
              </div>
              
              <div class="grid grid-cols-2 gap-3 mb-4">
                <button onclick="handleGuess('success')" class="py-5 btn-success text-white font-bold text-lg rounded-xl">
                  âœ“ ×”×¦×œ×™×—
                </button>
                <button onclick="handleGuess('skip')" class="py-5 btn-danger text-white font-bold text-lg rounded-xl">
                  âœ— ×¤×¡×™×œ×”
                </button>
              </div>

              <button onclick="endRound()" class="w-full py-3 bg-slate-700 hover:bg-slate-600 text-gray-300 font-semibold rounded-xl transition">
                ×¡×™×•× ××•×§×“×
              </button>
            </div>
          `;
          break;

        case GAME_STATE.LAST_GUESS:
          content = `
            <div class="w-full max-w-md p-6 card rounded-2xl shadow-2xl mt-8 border-2 border-yellow-500/50 animate-fade-in">
              <h1 class="text-3xl font-black text-center text-yellow-400 mb-4">â° ×”×–××Ÿ × ×’××¨</h1>
              <p class="text-sm text-center text-gray-300 mb-6">××™×œ×” ××—×¨×•× ×” ×œ× ×™×—×•×©</p>
              
              <div class="word-display my-6 p-8 rounded-2xl text-center">
                <p id="currentWordDisplay" class="main-word text-5xl font-black text-white">${gameState.currentRound.currentWord}</p>
              </div>

              <p class="text-base font-semibold text-center text-gray-300 mb-4">××™ × ×™×—×© × ×›×•×Ÿ?</p>
              
              <div class="space-y-2 mb-4">
                ${gameState.teams.map((team, index) => `
                  <button onclick="handleFinalGuess(${index})" class="w-full py-3 text-base font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-xl transition shadow-lg">
                    ${team.name}
                  </button>
                `).join('')}
              </div>

              <button onclick="handleFinalGuess(-1)" class="w-full py-3 bg-slate-700 hover:bg-slate-600 text-gray-200 font-semibold rounded-xl transition">
                ××£ ××—×“ ×œ× × ×™×—×©
              </button>
            </div>
          `;
          break;

        case GAME_STATE.SUMMARY:
          content = `
            <div class="w-full max-w-md p-6 card rounded-2xl shadow-2xl mt-8 animate-fade-in">
              <h1 class="text-3xl font-black text-center mb-6 bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent">
                ×¡×™×›×•× ×¡×™×‘×•×‘
              </h1>
              
              <div class="bg-slate-800/50 p-6 rounded-xl mb-6 border-t-4 ${gameState.currentRound.score < 0 ? 'border-red-500' : 'border-green-500'}">
                <p class="text-base text-gray-300 mb-2 text-center">×§×‘×•×¦×”: <span class="font-black text-indigo-400">${currentTeam.name}</span></p>
                <p class="text-sm font-medium text-gray-400 text-center mb-3">× ×™×§×•×“ ×‘×¡×™×‘×•×‘</p>
                <p class="text-7xl font-black text-center ${gameState.currentRound.score < 0 ? 'text-red-400' : 'text-green-400'}" dir="ltr">${gameState.currentRound.score}</p>
              </div>

              <div class="mb-6">
                <h2 class="text-sm font-bold text-gray-300 mb-3">×¢×“×›×•×Ÿ ×œ×•×—</h2>
                <div id="boardContainer"></div>
              </div>

              <button onclick="nextTurn()" class="w-full py-4 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white font-bold rounded-xl transition shadow-lg">
                ×ª×•×¨ ×”×‘×
              </button>
            </div>
          `;
          break;

        case GAME_STATE.GAME_OVER:
          content = `
            <div class="w-full max-w-md p-8 card rounded-2xl shadow-2xl mt-8 border-4 border-yellow-500/50 animate-celebrate">
              <h1 class="text-6xl font-black text-center text-yellow-400 mb-4">ğŸ‰</h1>
              <h2 class="text-3xl font-black text-center text-white mb-2">× ×™×¦×—×•×Ÿ!</h2>
              <p class="text-xl font-bold text-center text-indigo-400 mb-6">${getCurrentTeam().name}</p>
              
              <div class="bg-slate-800/50 p-6 rounded-xl mb-6 border border-yellow-500/30">
                <p class="text-lg text-center text-gray-300 mb-2">× ×™×§×•×“ ×¡×•×¤×™</p>
                <p class="text-6xl font-black text-center text-yellow-400" dir="ltr">${getCurrentTeam().score}</p>
              </div>

              <button onclick="resetGame()" class="w-full py-4 btn-primary text-white font-bold rounded-xl">
                ××©×—×§ ×—×“×©
              </button>
            </div>
          `;
          break;
      }

      appDiv.innerHTML = content;
      if (gameState.currentScreen === GAME_STATE.BOARD || gameState.currentScreen === GAME_STATE.SUMMARY) {
        renderBoard();
      }
    }

    document.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>

</html>
