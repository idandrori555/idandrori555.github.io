<!DOCTYPE html>
<html lang="he" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alias</title>
  <!-- 注转 Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 专转 驻 Inter  转转 住住转 -Tailwind -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <style>
    /* 专转  拽 转爪转 驻 */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #111827;
      /* bg-gray-900 */
      text-align: right;
    }

    .game-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
    }

    /* 转 砖专  */
    @media (max-width: 640px) {
      .main-word {
        font-size: 3rem;
        /* 转  专转  */
      }
    }

    /* Hide arrows from number inputs */
    input[type=number]::-webkit-outer-spin-button,
    input[type=number]::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    input[type=number] {
      -moz-appearance: textfield;
    }
  </style>
</head>

<body class="bg-gray-900 text-gray-200">
  <div id="app" class="game-container">
    <!-- 转 驻拽爪 注  -->
  </div>

  <script>
    // 专转 砖拽
    const ROUND_DURATION_SECONDS = 30;

    //   注专转 住住转 (转 专)
    // const HEBREW_WORDS = ["专", "", "", "驻驻", "专", "住", "住驻", "注", "驻", "爪转", "拽专", "专转", "转", "驻", "", "砖专", "专拽", "驻驻", "", "", "专拽专", "", "", "", "专", "住驻", "注", "驻砖", "爪专", "拽砖转", "专驻", "转转", "", "爪", "专", "", "专", "转", "祝", "", "专", "", "驻驻", "注", "砖", "砖砖", "砖注", "转拽", "驻转", "驻专", "转", "", "住", "砖", "驻", "住驻专", "专转", "注驻专", "住专拽", "转", "砖", "砖转", "住", "转", "砖", "专", "", "转专", "拽专专", "住", "爪转", "住", "拽注专", "转", "住", "砖驻", "专砖转", "砖", "专", "", "砖", "专转", "驻'", "", "住", "爪", "专", "注", "注", "爪注祝", "驻祝", "注", "砖专", "专拽", "砖拽驻", "注转", "转", "", "拽", "转", "住驻专", "住注", "拽驻", "", "", "", "", "抓", "砖专", "注祝", "专拽转", "驻专转", "专", "驻住", "砖拽", "住专", "注", "砖", "注专", "专", "", "专", "砖", "砖", "专拽", "专注", "专", "", "", "", "注抓", "砖", "砖", "爪驻专", "转", "", "驻专", "砖", "注", "专", "住住", "", "专", "驻专驻专", "", "转砖", "注专", "", "砖", "爪", "", "爪驻专注", "拽祝", "专", "专", "", "", "砖注", "住", "专", "转专", "专", "", "砖祝", "拽", "转", "专", "专", "专转", "注转", "", "专驻住转", "", "专拽", "专", "专专", "驻专拽", "", "专砖", "专", "砖拽", "爪注爪注", "", "", "爪注", "拽", "住驻专", "砖拽转", "拽驻住", "住专", "转", "", "砖驻", "", "转拽", "住", "住转"];

    const HEBREW_WORDS = [
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专",
      "",
      "砖",
      "住",
      "专",
      "砖",
      "拽专专",
      "转专",
      "专",
      "专",
      "祝",
      "专",
      "砖",
      "转 住驻专",
      "",
      "注专",
      "驻专",
      "砖拽",
      "拽",
      "转",
      "住注",
      "",
      "转专",
      "拽注",
      "住驻专",
      "祝",
      "",
      "",
      "专",
      "专",
      "专",
      "注专",
      "驻专拽",
      "专",
      "转",
      "专驻",
      "砖专",
      "",
      "",
      "",
      "住",
      "",
      "",
      "砖",
      "住",
      "住转",
      "",
      "",
      "拽",
      "住驻专",
      "专",
      "专拽",
      "砖拽",
      "砖砖",
      "专",
      "",
      "注",
      "砖",
      "砖",
      "专拽",
      "专注",
      "专",
      "住注专",
      "",
      "拽抓",
      "住转",
      "专祝",
      "驻专",
      "注抓",
      "注",
      "砖",
      "砖",
      "",
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专",
      "",
      "砖",
      "住",
      "专",
      "砖",
      "拽专专",
      "转专",
      "专",
      "专",
      "祝",
      "专",
      "砖",
      "转 住驻专",
      "",
      "注专",
      "驻专",
      "砖拽",
      "拽",
      "转",
      "住注",
      "",
      "转专",
      "拽注",
      "住驻专",
      "祝",
      "",
      "",
      "专",
      "专",
      "专",
      "注专",
      "驻专拽",
      "专",
      "转",
      "专驻",
      "砖专",
      "",
      "",
      "",
      "住",
      "",
      "",
      "砖",
      "住",
      "住转",
      "",
      "",
      "拽",
      "住驻专",
      "专",
      "专拽",
      "砖拽",
      "砖砖",
      "专",
      "",
      "注",
      "砖",
      "砖",
      "专拽",
      "专注",
      "专",
      "住注专",
      "",
      "拽抓",
      "住转",
      "专祝",
      "驻专",
      "注抓",
      "注",
      "砖",
      "砖",
      "",
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专",
      "",
      "砖",
      "住",
      "专",
      "砖",
      "拽专专",
      "转专",
      "专",
      "专",
      "祝",
      "专",
      "砖",
      "转 住驻专",
      "",
      "注专",
      "驻专",
      "砖拽",
      "拽",
      "转",
      "住注",
      "",
      "转专",
      "拽注",
      "住驻专",
      "祝",
      "",
      "",
      "专",
      "专",
      "专",
      "注专",
      "驻专拽",
      "专",
      "转",
      "专驻",
      "砖专",
      "",
      "",
      "",
      "住",
      "",
      "",
      "砖",
      "住",
      "住转",
      "",
      "",
      "拽",
      "住驻专",
      "专",
      "专拽",
      "砖拽",
      "砖砖",
      "专",
      "",
      "注",
      "砖",
      "砖",
      "专拽",
      "专注",
      "专",
      "住注专",
      "",
      "拽抓",
      "住转",
      "专祝",
      "驻专",
      "注抓",
      "注",
      "砖",
      "砖",
      "",
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专",
      "",
      "砖",
      "住",
      "专",
      "砖",
      "拽专专",
      "转专",
      "专",
      "专",
      "祝",
      "专",
      "砖",
      "转 住驻专",
      "",
      "注专",
      "驻专",
      "砖拽",
      "拽",
      "转",
      "住注",
      "",
      "转专",
      "拽注",
      "住驻专",
      "祝",
      "",
      "",
      "专",
      "专",
      "专",
      "注专",
      "驻专拽",
      "专",
      "转",
      "专驻",
      "砖专",
      "",
      "",
      "",
      "住",
      "",
      "",
      "砖",
      "住",
      "住转",
      "",
      "",
      "拽",
      "住驻专",
      "专",
      "专拽",
      "砖拽",
      "砖砖",
      "专",
      "",
      "注",
      "砖",
      "砖",
      "专拽",
      "专注",
      "专",
      "住注专",
      "",
      "拽抓",
      "住转",
      "专祝",
      "驻专",
      "注抓",
      "注",
      "砖",
      "砖",
      "",
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专",
      "",
      "砖",
      "住",
      "专",
      "砖",
      "拽专专",
      "转专",
      "专",
      "专",
      "祝",
      "专",
      "砖",
      "转 住驻专",
      "",
      "注专",
      "驻专",
      "砖拽",
      "拽",
      "转",
      "住注",
      "",
      "转专",
      "拽注",
      "住驻专",
      "祝",
      "",
      "",
      "专",
      "专",
      "专",
      "注专",
      "驻专拽",
      "专",
      "转",
      "专驻",
      "砖专",
      "",
      "",
      "",
      "住",
      "",
      "",
      "砖",
      "住",
      "住转",
      "",
      "",
      "拽",
      "住驻专",
      "专",
      "专拽",
      "砖拽",
      "砖砖",
      "专",
      "",
      "注",
      "砖",
      "砖",
      "专拽",
      "专注",
      "专",
      "住注专",
      "",
      "拽抓",
      "住转",
      "专祝",
      "驻专",
      "注抓",
      "注",
      "砖",
      "砖",
      "",
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专",
      "",
      "砖",
      "住",
      "专",
      "砖",
      "拽专专",
      "转专",
      "专",
      "专",
      "祝",
      "专",
      "砖",
      "转 住驻专",
      "",
      "注专",
      "驻专",
      "砖拽",
      "拽",
      "转",
      "住注",
      "",
      "转专",
      "拽注",
      "住驻专",
      "祝",
      "",
      "",
      "专",
      "专",
      "专",
      "注专",
      "驻专拽",
      "专",
      "转",
      "专驻",
      "砖专",
      "",
      "",
      "",
      "住",
      "",
      "",
      "砖",
      "住",
      "住转",
      "",
      "",
      "拽",
      "住驻专",
      "专",
      "专拽",
      "砖拽",
      "砖砖",
      "专",
      "",
      "注",
      "砖",
      "砖",
      "专拽",
      "专注",
      "专",
      "住注专",
      "",
      "拽抓",
      "住转",
      "专祝",
      "驻专",
      "注抓",
      "注",
      "砖",
      "砖",
      "",
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专",
      "",
      "砖",
      "住",
      "专",
      "砖",
      "拽专专",
      "转专",
      "专",
      "专",
      "祝",
      "专",
      "砖",
      "转 住驻专",
      "",
      "注专",
      "驻专",
      "砖拽",
      "拽",
      "转",
      "住注",
      "",
      "转专",
      "拽注",
      "住驻专",
      "祝",
      "",
      "",
      "专",
      "专",
      "专",
      "注专",
      "驻专拽",
      "专",
      "转",
      "专驻",
      "砖专",
      "",
      "",
      "",
      "住",
      "",
      "",
      "砖",
      "住",
      "住转",
      "",
      "",
      "拽",
      "住驻专",
      "专",
      "专拽",
      "砖拽",
      "砖砖",
      "专",
      "",
      "注",
      "砖",
      "砖",
      "专拽",
      "专注",
      "专",
      "住注专",
      "",
      "拽抓",
      "住转",
      "专祝",
      "驻专",
      "注抓",
      "注",
      "砖",
      "砖",
      "",
      "",
      "转",
      "驻",
      "'专驻",
      "专",
      "专",
      "拽祝",
      "",
      "专",
      "砖",
      "转专",
      "专",
      "砖祝",
      "专",
      "拽专祝",
      "注专",
      "砖注",
      "转",
      "驻",
      "专砖",
      "转驻",
      "",
      "注",
      "驻驻",
      "住",
      "驻驻",
      "爪",
      "专",
      "拽砖",
      "爪",
      "砖",
      "",
      "",
      "",
      "",
      "专",
      "砖专",
      "",
      "注祝",
      "专",
      "驻住",
      "注",
      "注",
      "砖拽",
      "",
      "驻爪",
      "专专",
      "住抓'",
      "专拽",
      "专",
      "砖",
      "驻",
      "",
      "专",
      "砖注",
      "砖拽驻",
      "驻转",
      "转",
      "",
      "转",
      "专",
      "专"];

    // 爪 砖拽
    const GAME_STATE = {
      SETUP: 'SETUP',
      BOARD: 'BOARD',
      ROUND: 'ROUND',
      SUMMARY: 'SUMMARY',
      GAME_OVER: 'GAME_OVER'
    };

    // 爪 砖拽 
    let gameState = {
      currentScreen: GAME_STATE.SETUP,
      teams: [],
      currentTeamIndex: 0,
      winningScore: 70, // 拽 爪 住 爪 砖拽
      currentRound: {
        presenterIndex: 0,
        score: 0,
        timeLeft: ROUND_DURATION_SECONDS,
        currentWord: '',
        usedWords: [] // 注 专转 转 砖拽
      },
      timerInterval: null,
      totalWords: [...HEBREW_WORDS],
    };

    // --- 拽转 转 转 拽 ---

    // 转 驻拽爪 爪转 住 专转
    function initApp() {
      render();
    }

    // --- 拽转 专转 砖拽 (SETUP) ---

    // 转 转转 砖拽
    function startSetup() {
      const teamNames = document.getElementById('teamNames');
      const winningScoreInput = document.getElementById('winningScore');
      const setupErrorElement = document.getElementById('setupError');

      const namesArray = teamNames.value.split('\n').map(name => name.trim()).filter(name => name);
      const teamCount = namesArray.length;
      const scoreToWin = parseInt(winningScoreInput.value, 10);

      // 转 住住
      if (teamCount < 2) {
        setupErrorElement.textContent = "  驻转 2 砖转 砖 拽爪转 (转 砖专).";
        return;
      }
      if (scoreToWin < 1 || isNaN(scoreToWin)) {
        setupErrorElement.textContent = "拽 爪  转 住驻专 .";
        return;
      }

      // 驻住 砖转
      setupErrorElement.textContent = "";

      // 注 拽 爪 
      gameState.winningScore = scoreToWin;

      // 爪专转 注专 拽爪转
      gameState.teams = [];
      for (let i = 0; i < teamCount; i++) {
        gameState.teams.push({
          name: namesArray[i],
          score: 0,
          players: [`砖拽 1`, `砖拽 2`], // MVP: 砖拽 驻拽
          presenterIndex: 0
        });
      }

      gameState.currentScreen = GAME_STATE.BOARD;
      render();
    }

    // --- 拽转  砖拽 (BOARD) ---

    // 驻注转 住 砖
    function startNewRound() {
      if (gameState.teams.length === 0) return;

      // 转 转 住
      gameState.currentRound.score = 0;
      gameState.currentRound.timeLeft = ROUND_DURATION_SECONDS;
      gameState.currentRound.currentWord = '';

      // 专转 砖拽 爪 
      const currentTeam = gameState.teams[gameState.currentTeamIndex];
      const nextPresenterIndex = currentTeam.presenterIndex;
      currentTeam.presenterIndex = (currentTeam.presenterIndex + 1) % currentTeam.players.length;

      gameState.currentScreen = GAME_STATE.ROUND;
      getNewWord();
      startTimer();
      render();
    }

    // --- 拽转 住 (ROUND) ---

    // 专转  砖
    function getNewWord() {
      if (gameState.totalWords.length === 0) {
        //  专 , 驻住 转 专 (爪专 -MVP)
        gameState.totalWords = [...HEBREW_WORDS].filter(word => !gameState.currentRound.usedWords.includes(word));
        if (gameState.totalWords.length === 0) {
          gameState.totalWords = [...HEBREW_WORDS];
        }
      }

      const availableWords = gameState.totalWords.filter(word => !gameState.currentRound.usedWords.includes(word));
      if (availableWords.length === 0) {
        // 拽专 拽爪: 专  , 驻住 转 专砖转  砖爪
        gameState.currentRound.usedWords = [];
        availableWords.push(...HEBREW_WORDS);
      }

      const randomIndex = Math.floor(Math.random() * availableWords.length);
      const newWord = availableWords[randomIndex];

      gameState.currentRound.currentWord = newWord;
      gameState.currentRound.usedWords.push(newWord); // 住 转  爪

      // 爪 转  砖 专砖转  转 
      gameState.totalWords = gameState.totalWords.filter(word => word !== newWord);

      // 注 专拽 转 转爪转    住 住
      if (gameState.currentScreen === GAME_STATE.ROUND) {
        const wordElement = document.getElementById('currentWordDisplay');
        if (wordElement) {
          wordElement.textContent = newWord;
        }
      }
    }

    // 驻注转 砖注 注爪专
    function startTimer() {
      if (gameState.timerInterval) clearInterval(gameState.timerInterval);

      gameState.timerInterval = setInterval(() => {
        gameState.currentRound.timeLeft--;
        const timerElement = document.getElementById('timerDisplay');
        if (timerElement) {
          timerElement.textContent = gameState.currentRound.timeLeft;
          // 砖 爪注 砖砖专 注 
          if (gameState.currentRound.timeLeft <= 10) {
            timerElement.classList.add('text-red-400', 'animate-pulse');
          } else {
            timerElement.classList.remove('text-red-400', 'animate-pulse');
          }
        }

        if (gameState.currentRound.timeLeft <= 0) {
          clearInterval(gameState.timerInterval);
          endRound();
        }
      }, 1000);
    }

    // 注 拽  住
    function handleGuess(type) {
      const currentTeam = gameState.teams[gameState.currentTeamIndex];

      if (type === 'success') {
        gameState.currentRound.score++;
        currentTeam.score++; // 注  砖 拽  转拽转 
        getNewWord();
      } else if (type === 'skip') {
        //   驻住 驻转 拽
        gameState.currentRound.score = Math.max(0, gameState.currentRound.score - 1);
        currentTeam.score = Math.max(0, currentTeam.score - 1);
        getNewWord();
      }

      // 注 转爪转 拽 住
      const roundScoreElement = document.getElementById('roundScoreDisplay');
      if (roundScoreElement) {
        roundScoreElement.textContent = gameState.currentRound.score;
      }

      // 拽转 爪  ( 拽 注专 转 专祝 爪)
      if (currentTeam.score >= gameState.winningScore) {
        clearInterval(gameState.timerInterval);
        gameState.currentScreen = GAME_STATE.GAME_OVER;
        render();
        return;
      }

      // 注 转爪转  专拽注
      renderBoard();
    }

    // 住 住
    function endRound() {
      if (gameState.timerInterval) clearInterval(gameState.timerInterval);

      // 拽转 爪
      const currentTeam = gameState.teams[gameState.currentTeamIndex];
      if (currentTeam.score >= gameState.winningScore) {
        gameState.currentScreen = GAME_STATE.GAME_OVER;
      } else {
        gameState.currentScreen = GAME_STATE.SUMMARY;
      }
      render();
    }

    // --- 拽转 住 住 (SUMMARY) 祝 转专 ---

    // 注专转 转专 拽爪 
    function nextTurn() {
      gameState.currentTeamIndex = (gameState.currentTeamIndex + 1) % gameState.teams.length;
      gameState.currentScreen = GAME_STATE.BOARD;
      render();
    }

    // --- 驻拽爪转 专专 (Rendering) ---

    function getCurrentTeam() {
      return gameState.teams[gameState.currentTeamIndex];
    }

    // 专专  砖拽 (转 拽)
    function renderBoard() {
      const boardContainer = document.getElementById('boardContainer');
      if (!boardContainer) return;

      const boardHTML = `
                <div class="space-y-3">
                    ${gameState.teams.map((team, index) => `
                        <div class="flex items-center justify-between p-4 rounded-2xl shadow-lg ${index === gameState.currentTeamIndex ? 'bg-gray-700 border-4 border-indigo-500 transform scale-[1.01]' : 'bg-gray-800 border border-gray-700'} transition duration-300">
                            <span class="text-xl font-bold ${index === gameState.currentTeamIndex ? 'text-indigo-400' : 'text-gray-300'}">${team.name}</span>
                            <div class="flex items-center space-x-3 space-x-reverse">
                                <span class="text-4xl font-extrabold text-blue-400">${team.score}</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
      boardContainer.innerHTML = boardHTML;
    }


    // 专专 转 爪 砖拽
    function render() {
      const appDiv = document.getElementById('app');
      let content = '';

      const currentTeam = getCurrentTeam();
      const nextPresenterName = currentTeam ? currentTeam.players[currentTeam.presenterIndex] : '';

      switch (gameState.currentScreen) {
        case GAME_STATE.SETUP:
          content = `
                        <div class="w-full max-w-lg p-8 bg-gray-800 rounded-3xl shadow-2xl mt-10">
                            <h1 class="text-3xl font-extrabold text-indigo-400 mb-8 text-center border-b border-gray-700 pb-2"> 专转 砖拽 住</h1>
                            
                            <div class="space-y-5">
                                <div class="mb-4">
                                    <label for="winningScore" class="block text-sm font-medium text-gray-300 mb-2">拽 专砖 爪:</label>
                                    <input type="number" id="winningScore" value="${gameState.winningScore}" min="1" class="w-full p-3 bg-gray-700 border-2 border-gray-600 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 shadow-inner text-white" aria-label="拽 专砖 爪">
                                </div>

                                <div class="mb-6">
                                    <label for="teamNames" class="block text-sm font-medium text-gray-300 mb-2">砖转 拽爪转 ( 砖   砖专):</label>
                                    <textarea id="teamNames" rows="4" class="w-full p-3 bg-gray-700 border-2 border-gray-600 rounded-xl focus:ring-indigo-500 focus:border-indigo-500 shadow-inner text-white placeholder-gray-400" placeholder="拽爪转 驻转专\n拽爪转 专" aria-label="砖转 拽爪转"></textarea>
                                    <p class="text-xs text-gray-400 mt-1">住驻专 拽爪转 拽注 转. ( 2)</p>
                                </div>
                            </div>

                            <!-- 注转 砖 拽 alert() -->
                            <p id="setupError" class="text-red-400 text-sm font-semibold mb-4 text-center"></p>
                            
                            <button onclick="startSetup()" class="w-full py-4 bg-indigo-600 text-white font-bold rounded-2xl shadow-xl hover:bg-indigo-700 transition duration-300 transform hover:scale-[1.01] ring-2 ring-indigo-300">
                                转 砖拽
                            </button>
                        </div>
                    `;
          break;

        case GAME_STATE.BOARD:
          content = `
                        <div class="w-full max-w-lg p-8 bg-gray-800 rounded-3xl shadow-2xl mt-10">
                            <h1 class="text-3xl font-extrabold text-indigo-400 mb-6 text-center">  砖拽 </h1>
                            
                            <!-- 注 注 转专  -->
                            <div class="bg-gray-900 p-5 rounded-2xl mb-6 border-l-8 border-indigo-500 shadow-md">
                                <p class="text-sm text-gray-400 font-medium">转专 :</p>
                                <p class="text-2xl font-bold text-indigo-400">${currentTeam.name}</p>
                                <p class="text-md text-gray-300 mt-2">爪 : <span class="font-semibold">${currentTeam.players[currentTeam.presenterIndex]}</span></p>
                            </div>

                            <!-- 拽 拽爪转 /  -->
                            <h2 class="text-xl font-bold text-gray-300 mb-4 border-b border-gray-700 pb-2">拽 拽爪转 (注: ${gameState.winningScore} 拽转)</h2>
                            <div id="boardContainer" class="mb-8">
                                <!--  注 爪注转 renderBoard() -->
                            </div>
                            
                            <!-- 爪 转转 住 -->
                            <button onclick="startNewRound()" class="w-full py-4 bg-gradient-to-r from-green-500 to-green-600 text-white font-extrabold rounded-2xl shadow-2xl hover:from-green-600 hover:to-green-700 transition duration-300 transform hover:scale-[1.02] ring-4 ring-green-200">
                                转 住 砖
                            </button>
                        </div>
                    `;
          break;

        case GAME_STATE.ROUND:
          content = `
                        <div class="w-full max-w-lg p-6 bg-gray-800 rounded-3xl shadow-2xl mt-10 text-center">
                            <h1 class="text-3xl font-extrabold text-indigo-400 mb-4">转专 砖: ${currentTeam.name}</h1>
                            
                            <!-- 砖注 注爪专 拽 住 -->
                            <div class="flex justify-between items-center mb-6 p-4 bg-gray-900 rounded-2xl shadow-inner">
                                <div class="p-2 w-1/2 border-r border-gray-700">
                                    <p class="text-base font-medium text-gray-400"> 砖转专:</p>
                                    <p id="timerDisplay" class="text-6xl font-extrabold text-gray-200">${gameState.currentRound.timeLeft}</p>
                                </div>
                                <div class="p-2 w-1/2">
                                    <p class="text-base font-medium text-gray-400">拽 住:</p>
                                    <p id="roundScoreDisplay" class="text-6xl font-extrabold text-green-400">${gameState.currentRound.score}</p>
                                </div>
                            </div>
                            
                            <!--  转 - 转 砖驻专转 -->
                            <div class="my-8 p-10 bg-indigo-600 text-white rounded-3xl shadow-2xl transform hover:rotate-1 transition duration-500 cursor-pointer"
                                style="box-shadow: 0 15px 30px -10px rgba(79, 70, 229, 0.7);">
                                <p class="text-xl font-medium opacity-80 mb-2"> 住专:</p>
                                <p id="currentWordDisplay" class="main-word text-6xl md:text-7xl font-black tracking-wider">${gameState.currentRound.currentWord}</p>
                            </div>
                            
                            <!-- 爪 驻注   注 -->
                            <div class="grid grid-cols-2 gap-4">
                                <button onclick="handleGuess('success')" class="py-6 bg-green-500 text-white font-extrabold text-xl rounded-2xl shadow-xl hover:bg-green-600 transition duration-300 transform hover:scale-105">
                                    爪
                                </button>
                                <button onclick="handleGuess('skip')" class="py-6 bg-red-500 text-white font-extrabold text-xl rounded-2xl shadow-xl hover:bg-red-600 transition duration-300 transform hover:scale-105">
                                     / 驻住
                                </button>
                            </div>

                            <button onclick="endRound()" class="w-full mt-4 py-3 bg-gray-600 text-white font-bold rounded-2xl hover:bg-gray-700 transition duration-300 shadow-md">
                                住 住 拽
                            </button>
                        </div>
                    `;
          break;

        case GAME_STATE.SUMMARY:
          content = `
                        <div class="w-full max-w-lg p-8 bg-gray-800 rounded-3xl shadow-2xl mt-10 text-center">
                            <h1 class="text-4xl font-extrabold text-indigo-400 mb-6 border-b border-gray-700 pb-2">住 住!</h1>
                            
                            <div class="bg-gray-700 p-6 rounded-2xl mb-8 shadow-inner">
                                <p class="text-xl text-gray-300 mb-2">拽爪: <span class="font-black text-indigo-400">${currentTeam.name}</span></p>
                                <p class="text-2xl font-bold text-gray-300 mb-4"> 砖砖 :</p>
                                <p class="text-7xl font-black text-green-400">${gameState.currentRound.score}</p>
                            </div>

                            <h2 class="text-xl font-bold text-gray-300 mb-4 border-b border-gray-700 pb-2">转拽转 </h2>
                            <div id="boardContainer" class="mb-8">
                                <!--  注 爪注转 renderBoard() -->
                            </div>

                            <button onclick="nextTurn()" class="w-full py-4 bg-blue-600 text-white font-bold rounded-2xl shadow-xl hover:bg-blue-700 transition duration-300 transform hover:scale-[1.01]">
                                注专 转专 拽爪 
                            </button>
                        </div>
                    `;
          break;

        case GAME_STATE.GAME_OVER:
          content = `
                        <div class="w-full max-w-lg p-8 bg-gray-800 rounded-3xl shadow-2xl mt-10 text-center border-4 border-yellow-500 animate-pulse">
                            <h1 class="text-6xl font-black text-yellow-400 mb-4 transform scale-105"> 爪!!! </h1>
                            <p class="text-3xl font-extrabold text-indigo-400 mb-6">${getCurrentTeam().name} 爪 砖拽!</p>
                            
                            <div class="bg-gray-700 p-6 rounded-2xl mb-6 shadow-inner border border-yellow-800">
                                <p class="text-2xl text-gray-300">拽 住驻: <span class="font-black text-yellow-400">${getCurrentTeam().score}</span></p>
                            </div>

                            <button onclick="window.location.reload()" class="w-full py-4 bg-indigo-600 text-white font-bold rounded-2xl shadow-xl hover:bg-indigo-700 transition duration-300 transform hover:scale-[1.01]">
                                转 砖拽 砖
                            </button>
                        </div>
                    `;
          break;
      }

      appDiv.innerHTML = content;
      if (gameState.currentScreen === GAME_STATE.BOARD || gameState.currentScreen === GAME_STATE.SUMMARY) {
        renderBoard();
      }
    }

    // 驻注转 驻拽爪 专 注转 祝
    document.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>

</html>
